<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (93% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Constants.html">Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Constants.html#/c:@M17SDKVersionNumber">M17SDKVersionNumber</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@M17SDKVersionString">M17SDKVersionString</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/LabelFilter.html">LabelFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LiveFilterFactory.html">LiveFilterFactory</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LiveListConfiguration.html">LiveListConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/M17SDK.html">M17SDK</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/M17SDKConfiguration.html">M17SDKConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RegionFilter.html">RegionFilter</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RootCoordinator.html">RootCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/UserIdFilter.html">UserIdFilter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/LiveCellLayout.html">LiveCellLayout</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:6M17SDK21LiveCellLayoutHandlera">LiveCellLayoutHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:6M17SDK18LiveCellLayoutViewa">LiveCellLayoutView</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='m17sdk' class='heading'>M17SDK</h1>

<ul>
<li><a href="https://github.com/17media/M17SDK-ios#intallation">Intallation</a></li>
<li><a href="https://github.com/17media/M17SDK-ios#Usage">Usage</a></li>
<li><a href="https://github.com/17media/M17SDK-ios#classes-enums-and-protocols">Classes, Enums and Protocols</a></li>
<li><a href="https://github.com/17media/M17SDK-ios#launch-sdk">Launch SDK</a></li>
<li><a href="https://github.com/17media/M17SDK-ios#create-live-list-view-controller-in-default-cell-layout">Create live list view controller in default cell layout</a></li>
<li><a href="https://github.com/17media/M17SDK-ios#setup-your-custom-layout-for-live-cells">Setup your custom layout for live cells</a></li>
</ul>
<h2 id='intallation' class='heading'>Intallation</h2>
<h3 id='prerequisites' class='heading'>Prerequisites</h3>

<p>To use the M17SDK for iOS Swift and Objective-C, you need:</p>

<ul>
<li>iOS 10.0 or later as the deployment target.</li>
<li>Xcode 11 or later.</li>
</ul>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p><a href="https://cocoapods.org/">CocoaPods</a> is a dependency manager for Cocoa projects. For usage and installation instructions, visit their website. To integrate M17SDK into your Xcode project using CocoaPods, specify it in your <em>Podfile</em>:</p>
<pre class="highlight plaintext"><code>pod 'M17SDK', '0.1.0-rc.1'
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a decentralized dependency manager that builds your dependencies and provides you with binary frameworks. To integrate M17SDK into your Xcode project using Carthage, specify it in your <em>Cartfile</em>:</p>
<pre class="highlight plaintext"><code>github "17media/M17SDK-ios" "0.1.0-rc.1"
github "SDWebImage/SDWebImage" ~&gt; 5.0.0
github "SnapKit/SnapKit" ~&gt; 5.0.0
github "pubnub/swift" ~&gt; 2.0
</code></pre>

<p>On your application targets’ Build Phases settings tab, click the + icon and choose New Run Script Phase. Create a Run Script in which you specify your shell (ex: /bin/sh), add the following contents to the script area below the shell:</p>
<pre class="highlight plaintext"><code>/usr/local/bin/carthage copy-frameworks
</code></pre>

<p>Add the paths to the frameworks you want to use under “Input Files&quot;. For example:</p>
<pre class="highlight plaintext"><code>$(SRCROOT)/Carthage/Build/iOS/M17SDK.framework
$(SRCROOT)/Carthage/Build/iOS/PubNub.framework
$(SRCROOT)/Carthage/Build/iOS/SDWebImage.framework
$(SRCROOT)/Carthage/Build/iOS/SnapKit.framework
</code></pre>

<p>Add the paths to the copied frameworks to the “Output Files”. For example:</p>
<pre class="highlight plaintext"><code>$(BUILT_PRODUCTS_DIR)/$(FRAMEWORKS_FOLDER_PATH)/M17SDK.framework
$(BUILT_PRODUCTS_DIR)/$(FRAMEWORKS_FOLDER_PATH)/PubNub.framework
$(BUILT_PRODUCTS_DIR)/$(FRAMEWORKS_FOLDER_PATH)/SDWebImage.framework
$(BUILT_PRODUCTS_DIR)/$(FRAMEWORKS_FOLDER_PATH)/SnapKit.framework
</code></pre>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='import' class='heading'>Import</h3>

<ul>
<li>Import <em>M17SDK</em> in <em>.m</em> files to access classes or protocols.</li>
</ul>
<pre class="highlight plaintext"><code>@import M17SDK;
</code></pre>

<ul>
<li>Use forward declarations in <em>.h</em> files if you want to reference classes or protocols in an Objective-C interface. For example:</li>
</ul>
<pre class="highlight plaintext"><code>@protocol M17SDKLiveCellLayout;
</code></pre>
<h3 id='classes-enums-and-protocols' class='heading'>Classes, Enums and Protocols</h3>
<h4 id='m17sdk' class='heading'>M17SDK</h4>

<p>In charge of validating license key and launch the SDK.</p>
<h4 id='m17sdkconfiguration' class='heading'>M17SDKConfiguration</h4>

<p>To setup a set of configurations for <em>M17SDK</em> launcher.</p>
<h4 id='m17sdkautherror' class='heading'>M17SDKAuthError</h4>

<p>Error codes of SDK authorization error.</p>
<h4 id='m17sdklivefilterfactory' class='heading'>M17SDKLiveFilterFactory</h4>

<p>Get region filters, label filters and user Id filters from this factory. These filters is used to define the live rooms that you want to show on live list.</p>
<h4 id='m17sdkrootcoordinator' class='heading'>M17SDKRootCoordinator</h4>

<p>In charge of generating and navigating view controllers.</p>
<h4 id='m17sdklivelistconfiguration' class='heading'>M17SDKLiveListConfiguration</h4>

<p>To setup a set of configurations for live list view controller.</p>
<h4 id='m17sdklivecelllayout' class='heading'>M17SDKLiveCellLayout</h4>

<p>This protocol defines the abstract interfaces of the live cell layout. Confirm this protocol to customize your own live cells.</p>
<h3 id='launch-sdk' class='heading'>Launch SDK</h3>
<pre class="highlight plaintext"><code>// Create config by licenses key.
M17SDKConfiguration *config = [[M17SDKConfiguration alloc] initWithLicenseKey:@"jYfYR8jmh5AQTlCciBv2"];

// Set the user UUID of your platform to SDK if needed.
config.userIdentifier = @"My user UUID";

// Launch the SDK.
[M17SDK launchWithConfiguration:config completion:^(NSError * _Nullable error) {
    if (!error) {
        NSLog(@"Authorized!");
    } else {
        NSLog(@"Uh-oh, something is really wrong - %@", error);
    }
}];
</code></pre>
<h4 id='troubleshooting' class='heading'>Troubleshooting</h4>

<ul>
<li>If you need the accurate data report from M17 side, you <strong>MUST</strong> set the <em>userIdentifier</em> in config to bind the 17 App user with the user of your own App.</li>
<li><strong>Please make sure that you call others M17 SDK APIs after the launch completion callback returned without any errors,</strong> or you would get unexpected result. For example, you would get <em>nil</em> value when creating <em>LiveListViewController</em>.</li>
<li>If you get the error, please check the error message. Please refer <em>M17SDKAuthError</em> and use <em>Switch-case</em> to handle the error properly.</li>
</ul>
<h3 id='create-live-list-view-controller-with-default-cell-layout' class='heading'>Create live list view controller with default cell layout</h3>
<pre class="highlight plaintext"><code>/**
 There are three types of filter. `regionFilters`, `labelFilters`, `userIdFilters`.
 These functions return all fiters by default. You can check the id and modify the array.
*/
NSArray&lt;M17SDKRegionFilter *&gt; *rfs =  [M17SDKLiveFilterFactory regionFilters];

// You MUST initialize config with one kind of filter.
M17SDKLiveListConfiguration *config = [[M17SDKLiveListConfiguration alloc] initWithRegions:rfs];;

// Create the coordinator.
M17SDKRootCoordinator *root = [[M17SDKRootCoordinator alloc] init];

// Create a new live list view controller by cofig.
UIViewController *vc = [root createLiveListViewControllerWithConfiguration:config];

// Embed, present ,push or do whatever you want.
[self presentViewController:vc animated:YES completion:nil];
</code></pre>
<h4 id='troubleshooting' class='heading'>Troubleshooting</h4>

<ul>
<li><strong>Before calling <em>createLiveListViewControllerWithConfiguration</em>, please make sure the <em>M17SDK</em> has been launched successfully, or you would get <em>nil</em> value.</strong></li>
</ul>
<h3 id='setup-your-custom-layout-for-live-cells' class='heading'>Setup your custom layout for live cells</h3>

<ol>
<li>Subclass a UIView to confirm <em>M17SDKLiveCellLayout</em> protocol.</li>
</ol>
<pre class="highlight plaintext"><code>@interface DummyView : UIView &lt;M17SDKLiveCellLayout&gt;
</code></pre>

<ol>
<li>The protocol has two properties, one is <em>coverImageView</em>, the other is <em>streamerNameLabel</em>. Implement each property to bind the data from M17SDK with your custom view. These two properties can be implemented by Storyboard(IBOutlet), Xib(IBOutlet), or code(without IBOutlet).</li>
</ol>
<pre class="highlight plaintext"><code>@property (strong, nonatomic) IBOutlet UIImageView *coverImageView;
@property (strong, nonatomic) IBOutlet UILabel *streamerNameLabel;
</code></pre>

<ol>
<li>Implement the <em>LiveCellLayoutHandler</em> block. <strong>The block will be called when the collection view dequeues cells. Because each cell is different instance, you MUST always create a new <em>UIView&lt;M17SDKLiveCellLayout&gt;</em> instance in block</strong>. Please DONOT create a view outside the block and reuse it in the block.</li>
</ol>
<pre class="highlight plaintext"><code>config.liveCellLayoutHandler = ^UIView&lt;M17SDKLiveCellLayout&gt; * _Nonnull{
    UIView&lt;M17SDKLiveCellLayout&gt; *view = [DummyView createDummyView];
    return view;
};

UIViewController *vc = [root createLiveListViewControllerWithConfig:config];
</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2019-12-18)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
